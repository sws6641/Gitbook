# 3. Domain Model

### 학습 키워드

- Domain Model 이란
- Repository
- VO(Value Object)


***


### Domain Model 이란
* 도메인
    * 사용자가 프로그램을 사용하는 대상 영역
* 모델
    * 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태
* 도메인 모델
    * 사용자가 프로그램을 사용하는 대상 영역에 대한 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태


### Repository
* DAO가 데이터를 관리한다면, Repository는 도메인 모델을 관리한다. 거칠게 말하면, 전자는 DB 중심이고, 후자는 도메인 모델 중심이다.
* 영구 저장소를 의미하는 것이 아니고 객체의 상태를 관리하는 저장소 이다.

### VO(Value Object)
* 사용하는 도중에 변경 불가능하며 오직 읽기만 가능을 가집니다.
* DTO와 유사하지만 DTO는 setter를 가지고 있어 값이 변할 수 있습니다.
* Immutability (불변한)
    * Setter를 허용하지 않는다.
    * GC에 의해 폐기될 때까지 불변해야 한다.
* Value Equality (값 동등성)
    * VO는 동등성 검사를 해야하며 각각의 값이 같다면 두 VO 객체는 동일하다고 판단한다.
    * 다른 객체이지만 동일한 내부 값을 가지고 있으면 동등하다고 판단
    * 동일성
        * 객체의 주소값이 같은지를 비교하는 == 연산자로 가능
    * 동등성
        * equals() 함수를 통해 객체의 속성을 비교


### 정적 팩토리 메소드
* of, from 등 메소드 이름을 지정하고, 생성자 호출 방식이 아닌, 메서드 호출 방식으로 객체를 생성하는 것?

```
ex)

public static PostId of(String id){

    return new PostId(id);
}
```
* 객체의 생성을 담당하는 클래스 메서드 이다.
* 정적 팩토리 메서드라는 클래스 내에 선언되어있는 메서드를 내부의 new를 이용해 객체를 생성해 반환하는 것
* 즉 정적 팩토리 메소드를 통해서 new를 간접적으로 사용한다.